{"version":3,"sources":["webpack:///./src/components/WarningMessage.vue?f4c2","webpack:///./src/components/WarningMessage.vue","webpack:///./src/components/WarningMessage.vue?8c42"],"names":["ref","class","name","tag","id","mode","src","type","volume","warningVolume","messages","message","index","key","icon","messageFilter","content","duration","send","on","evt","payload","this","warningMessage","parseFloat","unshift","playSound","setTimeout","pop","$refs","querySelector","methods","play","render","__scopeId"],"mappings":"gHAAA,W,2HCOeA,IAAI,iB,gBAGJA,IAAI,gB,eAWP,eAA0B,KAAvBC,MAAM,aAAY,KAAC,G,GAAOA,MAAM,Q,4FApB3C,eAsBmB,QAtBDC,KAAK,OAAOC,IAAI,MAAMC,GAAG,wBAClCH,MAAK,8BAAqB,gBAAJ,EAAAI,K,iBAA4D,mBAAJ,O,KAAqD,SAAJ,U,wBAKpI,IAEQ,CAFR,eAEQ,QAFR,EAEQ,CADJ,eAAyF,UAAjFC,IAAI,mCAAmCC,KAAK,YAAaC,OAAQ,EAAAC,e,gBAE7E,eAEQ,QAFR,EAEQ,CADJ,eAAwF,UAAhFH,IAAI,kCAAkCC,KAAK,YAAaC,OAAQ,EAAAC,e,oCAE5E,eASM,2BATmD,EAAAC,SAAQ,CAA1BC,EAAQC,K,iBAA/C,eASM,OATDX,MAAK,gBAAC,oBAAmB,C,OACsB,WAAZ,EAAQ,K,QAAwD,YAAZ,EAAQ,QADhCY,IAAKD,G,CAMhC,YAAZD,EAAQJ,M,iBAAjC,eAA6F,G,MAA1CO,KAAK,uBAAuBb,MAAM,U,sBAChD,WAAZU,EAAQJ,M,iBAAjC,eAAmF,G,MAAjCO,KAAK,cAAcb,MAAM,U,sBAC3E,EAA0B,eAAsD,IAAtD,EAAsD,eAApC,EAAAc,cAAcJ,EAAQK,UAAO,I,gEAMtE,GACXd,KAAK,kBACL,OACI,MAAO,CACHG,KAAK,cACLK,SAAU,GACVD,cAAc,EACdQ,SAAS,IAGjB,UACI,iBAAIC,KAAK,4BAA4B,kBACrC,iBAAIC,GAAG,OAAO,CAACC,EAAIC,KACfC,KAAKjB,KAAOgB,EAAQE,eAAelB,KACnCiB,KAAKb,cAAgBe,WAAWH,EAAQE,eAAed,iBAE3D,iBAAIU,GAAG,mBAAmB,CAACC,EAAIC,KAC3BC,KAAKjB,KAAOgB,IAEhB,iBAAIF,GAAG,iBAAiB,CAACC,EAAIC,KACzBC,KAAKZ,SAASe,QAAQJ,GACnBC,KAAKb,cAAc,GAClBa,KAAKI,UAAUL,EAAQd,MAE3BoB,WAAW,KACPL,KAAKZ,SAASkB,OACF,IAAdN,KAAKL,YAEX,iBAAIE,GAAG,qBAAqB,CAACC,EAAIC,KAC7BC,KAAKb,cAAgBe,WAAWH,GAChCC,KAAKO,MAAM,iBAAiBC,cAAc,UAAUtB,OAAOc,KAAKb,cAChEa,KAAKO,MAAM,gBAAgBC,cAAc,UAAUtB,OAAOc,KAAKb,iBAGvEsB,QAAQ,CACJ,UAAUxB,GACI,WAAPA,EACCe,KAAKO,MAAM,gBAAgBG,OAEhB,YAAPzB,GACJe,KAAKO,MAAM,iBAAiBG,QAGpC,cAAchB,GACV,OAAOA,GACH,IAAK,YACD,MAAO,iCAEX,IAAK,iBACD,MAAO,cAEX,IAAK,uBACD,MAAO,qCAEX,IAAK,0BACD,MAAO,eAEX,IAAK,sBACD,MAAO,4BAEX,IAAK,iBACD,MAAO,6BAEX,IAAK,sBACD,MAAO,gCAEX,IAAK,mBACD,MAAO,mCAEX,IAAK,eACD,MAAO,kBAEX,IAAK,UACD,MAAO,mCAEX,IAAK,mBACD,MAAO,uDAEX,IAAK,qBACD,MAAO,wBAEX,IAAK,mBACD,MAAO,uBAEX,IAAK,aACD,MAAO,wCAEX,QACI,MAAO,O,UC9G3B,EAAOiB,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-08085f46.c8ef9853.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./WarningMessage.vue?vue&type=style&index=0&id=3cff0e22&scoped=true&lang=css\"","<template>\r\n    <transition-group name=\"flip\" tag=\"div\" id=\"warning-message-queue\"\r\n            :class=\"{'regular-top':mode==='regular-top',\r\n                'regular-bottom':mode==='regular-bottom',\r\n                'mini':mode==='mini',\r\n            }\"\r\n    >\r\n        <audio ref=\"warning-sound\">\r\n            <source src=\"local-audio://musics/warning.wav\" type=\"audio/wav\" :volume=\"warningVolume\"/>\r\n        </audio>\r\n        <audio ref=\"normal-sound\">\r\n            <source src=\"local-audio://musics/normal.wav\" type=\"audio/wav\" :volume=\"warningVolume\"/>\r\n        </audio>\r\n        <div class=\"message flip-item\" v-for=\"(message,index) in messages\" :key=\"index\"\r\n            :class=\"{\r\n                'normal':message.type==='normal',\r\n                'warning':message.type==='warning'\r\n            }\"\r\n        >\r\n            <font-awesome-icon v-if=\"message.type==='warning'\" icon=\"exclamation-triangle\" class=\"icon\"/>\r\n            <font-awesome-icon v-if=\"message.type==='normal'\" icon=\"info-circle\" class=\"icon\"/>\r\n            <p class=\"delimeter\">|</p><p class=\"text\">{{messageFilter(message.content)}}</p>\r\n        </div>\r\n    </transition-group>\r\n</template>\r\n<script>\r\nimport { ipcRenderer as ipc } from 'electron'\r\nexport default {\r\n    name:'warning-message',\r\n    data(){\r\n        return {\r\n            mode:'regular-top',\r\n            messages: [],\r\n            warningVolume:0,\r\n            duration:3\r\n        }\r\n    },\r\n    mounted(){\r\n        ipc.send('REQUEST_INIT_SCREEN_VALUE','warningMessage');\r\n        ipc.on('INIT',(evt,payload)=>{\r\n            this.mode = payload.warningMessage.mode;\r\n            this.warningVolume = parseFloat(payload.warningMessage.warningVolume);\r\n        })\r\n        ipc.on('SET_WARNING_MODE',(evt,payload)=>{\r\n            this.mode = payload;\r\n        })\r\n        ipc.on('INSERT_MESSAGE',(evt,payload)=>{\r\n            this.messages.unshift(payload);\r\n            if(this.warningVolume>0) {\r\n                this.playSound(payload.type)\r\n            }\r\n            setTimeout(()=>{\r\n                this.messages.pop()\r\n            },this.duration*1000)\r\n        })\r\n        ipc.on('SET_WARNING_VOLUME',(evt,payload)=>{\r\n            this.warningVolume = parseFloat(payload);\r\n            this.$refs['warning-sound'].querySelector('source').volume=this.warningVolume;\r\n            this.$refs['normal-sound'].querySelector('source').volume=this.warningVolume;\r\n        })\r\n    },\r\n    methods:{\r\n        playSound(type){\r\n            if(type==='normal') {\r\n                this.$refs['normal-sound'].play();\r\n            }\r\n            else if(type==='warning') {\r\n                this.$refs['warning-sound'].play();\r\n            }\r\n        },\r\n        messageFilter(content){\r\n            switch(content){\r\n                case 'eye-blink':{\r\n                    return '눈이 건조해지고 있습니다. 눈을 더 자주 깜빡여주세요.'\r\n                }\r\n                case 'eye-size-check':{\r\n                    return '잠시만 기다려주세요.'\r\n                }\r\n                case 'eye-size-check-start':{\r\n                    return '지금부터 카메라를 보고 정자세로 3초간 편하게 눈을 떠주세요.'\r\n                }\r\n                case 'eye-size-check-complete':{\r\n                    return '측정이 완료되었습니다.'\r\n                }\r\n                case 'eye-size-check-fail':{\r\n                    return '눈을 감으셨습니다. 3초 뒤 다시 측정합니다.'\r\n                }\r\n                case 'bright-warning':{\r\n                    return '주변이 너무 어둡습니다. 주변을 밝게 해주세요.'\r\n                }\r\n                case 'bright-warning-auto':{\r\n                    return '주변이 너무 어둡습니다. 자동으로 밝기를 조절할게요.'\r\n                }\r\n                case 'distance-warning':{\r\n                    return '화면과의 거리가 너무 가깝습니다. 적정거리를 유지해주세요.'\r\n                }\r\n                case 'capture-face': {\r\n                    return '정자세 기준이 설정되었어요.'\r\n                }\r\n                case 'no-face': {\r\n                    return '흠... 얼굴을 못찾겠네요. 카메라를 정면으로 바라봐주세요'\r\n                }\r\n                case 'ready-to-capture': {\r\n                    return '정자세 기준을 설정합니다. 바른자세로 카메라를 응시해 주세요. 5~10초의 시간이 소요됩니다.'\r\n                }\r\n                case 'cant-detect-camera': {\r\n                    return '카메라가 준비되면 다시 시도해 주세요.'\r\n                }\r\n                case 'message-position': {\r\n                    return '이제 이 위치에 메세지가 출력됩니다.'\r\n                }\r\n                case 'stare-time':{\r\n                    return '너무 오랜시간 화면을 보고 있어요. 5분만 눈에게 휴식시간을 주세요'\r\n                }\r\n                default: {\r\n                    return ''\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n@font-face { \r\n    font-family: 'Nanum_Gothic';\r\n    src: local('Nanum-Gothic'),\r\n        url('../assets/fonts/Nanum_Gothic/NanumGothic-Regular.woff2'),\r\n        url('../assets/fonts/Nanum_Gothic/NanumGothic-Regular.ttf');\r\n    /* font-display:block; */\r\n}\r\n#warning-message-queue {\r\n    flex-direction:column;\r\n    position:fixed;\r\n    opacity:1;\r\n    display:flex;\r\n    font-family: 'Nanum_Gothic'\r\n}\r\n#warning-message-queue.regular-top {\r\n    justify-content: flex-start;\r\n    height:80px;\r\n    width:600px;\r\n    left:50%;\r\n    margin-left:-300px;\r\n    top:50px;\r\n    justify-content: left;\r\n}\r\n#warning-message-queue.regular-bottom {\r\n    justify-content: flex-start;\r\n    flex-direction:column-reverse;\r\n    height:80px;\r\n    width:600px;\r\n    left:50%;\r\n    margin-left:-300px;\r\n    bottom:150px;\r\n    justify-content: left;\r\n}\r\n#warning-message-queue.mini {\r\n    justify-content: flex-end;\r\n    width:300px;\r\n    height:500px;\r\n    right:5px;\r\n    bottom:45px;\r\n}\r\n#warning-message-queue .message {\r\n    display:flex;\r\n    flex-direction:row;\r\n    position:relative;\r\n    border-radius:8px;\r\n    text-align:center;\r\n    font-weight:bold;\r\n    font-size:1.3em;\r\n    padding:10px 20px;\r\n    margin-top:10px;\r\n    color:#EBEEF5;\r\n}\r\n#warning-message-queue .message .icon {\r\n    margin:auto 0;\r\n}\r\n#warning-message-queue .message .delimeter {\r\n    margin:auto 10px;\r\n}\r\n#warning-message-queue .message .text {\r\n    flex-grow:1;\r\n    margin:auto 0;\r\n    text-align:center;\r\n}\r\n.normal {\r\n    opacity:0.9;\r\n    background-color:var(--success-color);\r\n}\r\n.warning {\r\n    opacity:0.9;\r\n    background-color:var(--danger-color);\r\n}\r\n.flip-item {\r\n    transition:all 0.3s;\r\n    display:inline-block;\r\n}\r\n.flip-enter, .flip-leave-to {\r\n    opacity: 0;\r\n    transform: translateX(30px);\r\n}\r\n.flip-leave-active {\r\n    position: absolute;\r\n}\r\n</style>","import { render } from \"./WarningMessage.vue?vue&type=template&id=3cff0e22&scoped=true\"\nimport script from \"./WarningMessage.vue?vue&type=script&lang=js\"\nexport * from \"./WarningMessage.vue?vue&type=script&lang=js\"\n\nimport \"./WarningMessage.vue?vue&type=style&index=0&id=3cff0e22&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-3cff0e22\"\n\nexport default script"],"sourceRoot":""}